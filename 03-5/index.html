<!DOCTYPE html>
<html lang="lt">

    <head>
        <meta charset="UTF-8">
        <title>03 - 3 KMI</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    </head>

    <body>
        <div class="container">
            <div class="col-4 mt-5">
                <form id="form1">
                    <div class="form-group">
                        <label for="height">Įveskite savo ūgį</label>
                        <input type="number" class="form-control" id="height" name="height" min="100" placeholder="Įveskite savo ūgį centimetrais">
                    </div>
                    <div class="form-group">
                        <label for="weight">Įveskite savo svorį</label>
                        <input type="number" class="form-control" id="weight" name="weight" placeholder="Svoris kg" min="30" max="200">
                    </div>
                    <button type="submit" class="btn btn-primary">Skaičiuoti KMI</button>
                </form>
                <p class="mt-3" id="kmi"></p>
            </div>
        </div>
        <script>
            const form1 = document.forms['form1'];
            form1.addEventListener('submit', (event) => {
                event.preventDefault();
                height = Number(event.target.elements.height.value);
                weight = Number(event.target.elements.weight.value);
                answer = (weight / ((height / 100) ** 2)).toLocaleString(undefined, { maximumFractionDigits: 2 });
                event.path[1].children['kmi'].textContent = `Jūsų KMI - ${answer}`;
            })
            form1.querySelectorAll('input').forEach(element => element.addEventListener(
                'focus',
                (event) => {
                    event.target.classList.add("bg-primary");
                    event.target.classList.add("text-white");
                }
            ));
            form1.querySelectorAll('input').forEach(element => element.addEventListener(
                'blur',
                (event) => {
                    event.target.classList.remove("bg-primary");
                    event.target.classList.remove("text-white");
                }
            ));
        </script>
    </body>

</html>
